---
title: 使用示例集合
description: Antigravity Agent 常见使用场景和最佳实践
category: user-guide
language: zh-CN
version: 1.0.3
lastUpdated: 2025-12-04
tags: [示例, 最佳实践, 使用场景]
---

# 使用示例集合

## 概述

本文档提供 Antigravity Agent 的实际使用示例，涵盖多账户管理、配置备份、批量操作和故障排查等常见场景。通过这些示例，您可以快速掌握应用程序的高级用法和最佳实践。

## 目录

- [多账户管理场景](#多账户管理场景)
- [配置备份和恢复](#配置备份和恢复)
- [批量操作示例](#批量操作示例)
- [故障排查示例](#故障排查示例)
- [最佳实践建议](#最佳实践建议)

## 多账户管理场景

### 场景 1: 工作和个人账户分离

**使用场景：**
您有一个工作账户和一个个人账户，需要在不同时间使用不同的账户进行开发工作。

**操作步骤：**

1. **首次设置工作账户**
   ```
   1. 在 Antigravity 中登录您的工作账户
   2. 打开 Antigravity Agent
   3. 应用会自动检测并备份工作账户
   4. 在用户列表中看到工作账户（如 work@company.com）
   ```

2. **添加个人账户**
   ```
   1. 点击顶部工具栏的"登录新账户"按钮
   2. 在确认对话框中点击"确认"
   3. 等待应用自动备份当前账户并重启 Antigravity
   4. 在 Antigravity 中登录您的个人账户
   5. 个人账户会自动被检测并添加到列表
   ```

3. **日常切换**
   ```
   上班时：
   - 打开 Antigravity Agent
   - 找到工作账户卡片
   - 点击"切换"按钮
   - 等待几秒，切换完成

   下班后：
   - 找到个人账户卡片
   - 点击"切换"按钮
   - 立即开始使用个人账户
   ```

**预期结果：**
- 两个账户的配置完全独立
- 切换过程无需手动输入任何信息
- 每个账户的 API 配额独立计算
- 切换后 Antigravity 立即使用新账户

**提示：**
- 可以为账户添加备注（如"工作"、"个人"）便于识别
- 使用配额仪表盘监控当前账户的使用情况
- 建议定期导出配置作为备份

### 场景 2: 多客户项目管理

**使用场景：**
您是自由职业者或咨询顾问，为多个客户提供服务，每个客户使用独立的 Antigravity 账户。

**操作步骤：**

1. **为每个客户设置账户**
   ```
   客户 A:
   1. 登录客户 A 提供的 Antigravity 账户
   2. Antigravity Agent 自动备份为 "clientA@example.com"

   客户 B:
   1. 使用"登录新账户"功能
   2. 登录客户 B 的账户
   3. 自动备份为 "clientB@example.com"

   重复此过程添加更多客户账户
   ```

2. **项目工作时快速切换**
   ```
   开始客户 A 的项目：
   - 切换到 clientA@example.com
   - 查看配额仪表盘，确认可用额度
   - 开始工作

   切换到客户 B 的项目：
   - 点击切换到 clientB@example.com
   - 无需重启任何工具
   - 继续工作
   ```

3. **月末账单核对**
   ```
   1. 依次切换到每个客户账户
   2. 在配额仪表盘中查看使用量
   3. 记录每个模型的使用情况
   4. 生成账单报告
   ```

**最佳实践：**
- 为每个客户账户创建独立的导出备份
- 定期检查每个账户的配额使用情况
- 在账户卡片上添加客户名称备注
- 使用系统托盘功能保持应用在后台运行

### 场景 3: 开发和测试环境隔离

**使用场景：**
您需要在开发环境和生产环境使用不同的 Antigravity 账户，避免测试代码消耗生产配额。

**操作步骤：**

1. **设置开发账户**
   ```
   1. 登录开发环境专用账户 (dev@company.com)
   2. Antigravity Agent 自动备份
   3. 在此账户下进行所有开发和测试工作
   ```

2. **设置生产账户**
   ```
   1. 使用"登录新账户"添加生产账户 (prod@company.com)
   2. 仅在需要验证生产环境时使用
   ```

3. **日常开发流程**
   ```
   开发阶段：
   - 使用 dev@company.com 账户
   - 自由测试各种功能
   - 不用担心配额消耗

   生产部署前：
   - 切换到 prod@company.com
   - 进行最终验证
   - 确认功能正常后部署

   部署后：
   - 立即切换回 dev@company.com
   - 继续开发工作
   ```

**安全建议：**
- 生产账户使用更强的密码保护
- 定期导出生产账户配置并加密存储
- 限制生产账户的使用频率
- 监控生产账户的异常使用

### 场景 4: 团队协作账户共享

**使用场景：**
团队成员需要共享某些公共账户，同时保留个人账户。

**操作步骤：**

1. **设置个人账户**
   ```
   每个团队成员：
   1. 登录个人 Antigravity 账户
   2. Antigravity Agent 自动备份
   ```

2. **添加团队共享账户**
   ```
   1. 团队管理员提供共享账户凭据
   2. 使用"登录新账户"功能添加
   3. 团队账户被备份到本地
   ```

3. **使用共享账户**
   ```
   需要使用团队资源时：
   - 切换到团队共享账户
   - 完成协作任务
   - 切换回个人账户
   ```

4. **配置同步**
   ```
   方法 1: 使用导出/导入功能
   - 管理员导出团队账户配置
   - 加密并分享给团队成员
   - 成员导入配置文件

   方法 2: 手动配置
   - 每个成员独立添加团队账户
   - 使用相同的登录凭据
   ```

**协作建议：**
- 明确团队账户的使用规范
- 定期检查团队账户的配额使用
- 使用配额仪表盘避免超额
- 建立账户使用日志记录



## 配置备份和恢复

### 场景 5: 定期备份配置

**使用场景：**
定期创建配置备份，防止数据丢失或系统故障。

**操作步骤：**

1. **建立备份计划**
   ```
   建议备份频率：
   - 每周一次：常规使用
   - 每天一次：频繁添加/修改账户
   - 重要操作前：系统升级、大量修改前
   ```

2. **执行备份**
   ```
   1. 打开 Antigravity Agent
   2. 点击顶部工具栏的"导出"按钮
   3. 设置强密码（建议使用密码管理器生成）
   4. 选择备份保存位置：
      - 本地：D:\Backups\Antigravity\
      - 云盘：OneDrive\Backups\
      - 外部存储：移动硬盘
   5. 文件命名示例：
      antigravity_backup_2025-12-04_weekly.enc
   ```

3. **验证备份**
   ```
   1. 检查文件大小（应该 > 0 KB）
   2. 记录备份密码到密码管理器
   3. 可选：在测试环境中验证导入功能
   ```

**备份策略示例：**

```
每周备份计划：
├── 周一：完整备份到本地
├── 周三：增量备份到云盘
├── 周五：完整备份到外部存储
└── 月末：归档备份到长期存储

文件命名规范：
antigravity_[类型]_[日期]_[描述].enc

示例：
- antigravity_full_2025-12-04_weekly.enc
- antigravity_full_2025-12-31_monthly.enc
- antigravity_emergency_2025-12-04_before-upgrade.enc
```

**自动化备份脚本（可选）：**

```bash
#!/bin/bash
# backup-antigravity.sh

DATE=$(date +%Y-%m-%d)
BACKUP_DIR="$HOME/Backups/Antigravity"
FILENAME="antigravity_auto_${DATE}.enc"

# 创建备份目录
mkdir -p "$BACKUP_DIR"

# 提示：需要手动执行导出操作
echo "请在 Antigravity Agent 中执行导出操作"
echo "保存位置：$BACKUP_DIR/$FILENAME"

# 验证备份
if [ -f "$BACKUP_DIR/$FILENAME" ]; then
    echo "✓ 备份成功：$FILENAME"
    echo "文件大小：$(du -h "$BACKUP_DIR/$FILENAME" | cut -f1)"
else
    echo "✗ 备份失败或未完成"
fi
```

### 场景 6: 跨设备迁移配置

**使用场景：**
从旧电脑迁移到新电脑，或在多台设备间同步配置。

**操作步骤：**

**在旧设备上：**

1. **导出完整配置**
   ```
   1. 打开 Antigravity Agent
   2. 确保所有账户都已正确备份
   3. 点击"导出"按钮
   4. 设置强密码（务必记住！）
   5. 保存到 USB 驱动器或云盘
   6. 文件名：antigravity_migration_2025-12-04.enc
   ```

2. **验证导出**
   ```
   1. 检查文件完整性
   2. 记录密码到安全位置
   3. 可选：创建第二份备份
   ```

**在新设备上：**

1. **安装应用程序**
   ```
   1. 下载并安装 Antigravity Agent
   2. 首次启动应用
   3. 跳过初始设置向导
   ```

2. **导入配置**
   ```
   1. 点击顶部工具栏的"导入"按钮
   2. 选择之前导出的 .enc 文件
   3. 输入导出时设置的密码
   4. 等待导入完成（通常几秒钟）
   5. 验证所有账户都已恢复
   ```

3. **验证迁移**
   ```
   检查清单：
   ☑ 所有账户都显示在列表中
   ☑ 账户信息完整（邮箱、用户名、头像）
   ☑ 可以成功切换账户
   ☑ 配额信息正确显示
   ☑ 应用设置已恢复（系统托盘、静默启动等）
   ```

**跨平台迁移注意事项：**

```
Windows → macOS:
- 配置文件完全兼容
- 路径会自动适配
- 系统托盘行为可能略有不同

macOS → Windows:
- 配置文件完全兼容
- 需要安装 WebView2 Runtime
- 检查 Antigravity 可执行文件路径

Windows → Linux (未来):
- 配置文件完全兼容
- 需要安装依赖包
- 检查文件权限
```

### 场景 7: 灾难恢复

**使用场景：**
系统崩溃、硬盘故障或意外删除后恢复配置。

**操作步骤：**

1. **评估损失**
   ```
   检查项：
   - 应用程序是否可以启动？
   - 配置文件是否存在？
   - 数据库文件是否损坏？
   - 是否有可用的备份？
   ```

2. **从备份恢复**
   ```
   情况 A：有最近的导出备份
   1. 重新安装 Antigravity Agent
   2. 使用"导入"功能恢复配置
   3. 验证所有账户

   情况 B：只有旧备份
   1. 导入旧备份
   2. 手动添加新增的账户
   3. 更新账户信息

   情况 C：没有备份
   1. 重新安装应用
   2. 逐个重新登录账户
   3. 应用会自动重新备份
   ```

3. **恢复后验证**
   ```
   完整性检查：
   1. 测试账户切换功能
   2. 验证 API 密钥有效性
   3. 检查配额信息
   4. 测试导入导出功能
   5. 立即创建新备份
   ```

**预防措施：**

```
多重备份策略：
1. 本地备份：每周自动备份到本地磁盘
2. 云端备份：每月备份到云存储（OneDrive/Google Drive）
3. 离线备份：季度备份到外部硬盘
4. 关键时刻备份：重大操作前手动备份

备份验证：
- 定期测试恢复流程
- 在虚拟机中验证备份可用性
- 记录恢复时间和步骤
```

### 场景 8: 配置版本管理

**使用场景：**
维护多个配置版本，便于回滚和比较。

**操作步骤：**

1. **建立版本命名规范**
   ```
   格式：antigravity_v[版本号]_[日期]_[描述].enc

   示例：
   - antigravity_v1.0_2025-12-01_initial.enc
   - antigravity_v1.1_2025-12-04_added-work-account.enc
   - antigravity_v1.2_2025-12-10_team-accounts.enc
   - antigravity_v2.0_2025-12-15_major-reorganization.enc
   ```

2. **创建版本备份**
   ```
   重要变更时：
   1. 导出当前配置
   2. 使用版本号命名
   3. 添加变更说明文档
   4. 保存到版本控制目录
   ```

3. **版本目录结构**
   ```
   Antigravity-Backups/
   ├── v1.0/
   │   ├── antigravity_v1.0_2025-12-01.enc
   │   └── CHANGELOG.md
   ├── v1.1/
   │   ├── antigravity_v1.1_2025-12-04.enc
   │   └── CHANGELOG.md
   ├── v2.0/
   │   ├── antigravity_v2.0_2025-12-15.enc
   │   └── CHANGELOG.md
   └── current -> v2.0/  (符号链接)
   ```

4. **变更日志示例**
   ```markdown
   # Version 1.1 - 2025-12-04

   ## 变更内容
   - 添加工作账户 (work@company.com)
   - 更新个人账户配置
   - 启用系统托盘功能

   ## 账户列表
   1. personal@example.com (个人)
   2. work@company.com (工作)

   ## 回滚说明
   如需回滚到 v1.0，导入 antigravity_v1.0_2025-12-01.enc
   ```

**版本管理最佳实践：**
- 重大变更前创建新版本
- 保留至少 3 个历史版本
- 定期清理过期版本（保留月度快照）
- 使用 Git 管理变更日志



## 批量操作示例

### 场景 9: 批量导入多个账户

**使用场景：**
团队管理员需要为多个团队成员配置相同的账户集合。

**操作步骤：**

1. **准备主配置**
   ```
   管理员操作：
   1. 在一台设备上配置所有需要的账户
   2. 测试确保所有账户正常工作
   3. 导出配置文件
   4. 设置团队共享密码
   5. 分发配置文件给团队成员
   ```

2. **团队成员导入**
   ```
   每个成员：
   1. 安装 Antigravity Agent
   2. 获取配置文件和密码
   3. 使用"导入"功能加载配置
   4. 验证所有账户可用
   5. 根据需要添加个人账户
   ```

3. **配置文件分发方式**
   ```
   方式 1：内部文件服务器
   - 上传到公司内网
   - 设置访问权限
   - 提供下载链接

   方式 2：加密邮件
   - 使用加密邮件服务
   - 密码单独通过其他渠道发送

   方式 3：USB 驱动器
   - 复制到 USB
   - 当面交付
   - 确认接收后删除
   ```

**安全注意事项：**
- 使用强密码加密配置文件
- 密码和文件分开传输
- 接收后立即验证文件完整性
- 使用后安全删除临时文件

### 场景 10: 批量更新账户信息

**使用场景：**
多个账户的 API 密钥或配置需要同时更新。

**操作步骤：**

1. **准备更新**
   ```
   1. 导出当前配置作为备份
   2. 记录需要更新的账户列表
   3. 准备新的 API 密钥或配置信息
   ```

2. **执行更新**
   ```
   方法 1：通过 Antigravity 更新
   1. 依次切换到每个账户
   2. 在 Antigravity 中更新配置
   3. Antigravity Agent 自动同步更新

   方法 2：手动更新后重新备份
   1. 在 Antigravity 中批量更新
   2. 切换到每个账户触发自动备份
   3. 验证更新已保存
   ```

3. **验证更新**
   ```
   检查清单：
   ☑ 每个账户都已更新
   ☑ API 密钥有效
   ☑ 配额信息正确
   ☑ 可以正常切换
   ☑ 创建新的导出备份
   ```

**批量更新脚本示例（概念）：**

```javascript
// 注意：这是概念示例，实际需要通过 Antigravity Agent 的 UI 操作

const accountsToUpdate = [
  { email: 'account1@example.com', newApiKey: 'new-key-1' },
  { email: 'account2@example.com', newApiKey: 'new-key-2' },
  { email: 'account3@example.com', newApiKey: 'new-key-3' }
];

async function batchUpdateAccounts() {
  for (const account of accountsToUpdate) {
    console.log(`更新账户: ${account.email}`);

    // 1. 切换到账户
    await switchAccount(account.email);

    // 2. 在 Antigravity 中更新 API 密钥
    // （需要手动操作）

    // 3. 等待自动备份
    await waitForBackup();

    console.log(`✓ ${account.email} 更新完成`);
  }

  console.log('所有账户更新完成');
}
```

### 场景 11: 批量清理和重组

**使用场景：**
清理不再使用的账户，重新组织账户结构。

**操作步骤：**

1. **审计现有账户**
   ```
   创建账户清单：

   | 邮箱 | 用途 | 最后使用 | 状态 | 操作 |
   |------|------|----------|------|------|
   | work@company.com | 工作 | 2025-12-04 | 活跃 | 保留 |
   | old-work@company.com | 旧工作 | 2025-10-15 | 过期 | 删除 |
   | personal@example.com | 个人 | 2025-12-03 | 活跃 | 保留 |
   | test@example.com | 测试 | 2025-11-20 | 不用 | 删除 |
   ```

2. **导出备份（重要！）**
   ```
   1. 在清理前导出完整配置
   2. 命名：antigravity_before_cleanup_2025-12-04.enc
   3. 验证备份文件完整性
   ```

3. **执行清理**
   ```
   1. 识别要删除的账户
   2. 逐个点击删除按钮
   3. 确认删除操作
   4. 验证账户已从列表中移除
   ```

4. **重新组织**
   ```
   1. 保留的账户按用途分类
   2. 更新账户备注信息
   3. 调整显示顺序（如果支持）
   4. 导出新的配置文件
   ```

5. **清理后验证**
   ```
   ☑ 活跃账户都已保留
   ☑ 不需要的账户已删除
   ☑ 可以正常切换账户
   ☑ 创建清理后的备份
   ☑ 更新文档记录
   ```

**清理建议：**
- 每季度审查一次账户列表
- 删除 3 个月未使用的测试账户
- 保留所有生产和工作账户
- 清理前务必备份

### 场景 12: 批量配置同步

**使用场景：**
在多台设备上保持相同的账户配置。

**操作步骤：**

1. **设置主设备**
   ```
   主设备（如办公电脑）：
   1. 配置所有需要的账户
   2. 调整应用设置
   3. 导出配置文件
   4. 上传到云存储
   ```

2. **同步到其他设备**
   ```
   设备 A（笔记本）：
   1. 安装 Antigravity Agent
   2. 从云存储下载配置文件
   3. 导入配置
   4. 验证同步成功

   设备 B（家用电脑）：
   1. 重复相同步骤
   2. 确保所有设备配置一致
   ```

3. **保持同步**
   ```
   定期同步流程：

   每周一次：
   1. 在主设备上导出最新配置
   2. 上传到云存储（覆盖旧文件）
   3. 在其他设备上下载并导入
   4. 验证同步成功

   自动化（可选）：
   - 使用云同步工具（OneDrive/Dropbox）
   - 设置自动同步目录
   - 定期手动导入更新
   ```

4. **冲突处理**
   ```
   如果不同设备有不同的账户：

   方法 1：合并配置
   1. 从设备 A 导出配置
   2. 在设备 B 导入（合并模式）
   3. 从设备 B 导出完整配置
   4. 分发到所有设备

   方法 2：分别管理
   1. 每个设备维护独立配置
   2. 只同步共享账户
   3. 保留设备特定账户
   ```

**同步最佳实践：**
- 指定一台主设备作为配置源
- 使用版本号管理配置文件
- 同步前备份本地配置
- 记录同步日志



## 故障排查示例

### 场景 13: 账户切换失败

**问题描述：**
点击切换账户后显示错误，或切换后账户信息不正确。

**诊断步骤：**

1. **检查错误信息**
   ```
   1. 查看应用界面的错误提示
   2. 打开日志文件：
      Windows: %APPDATA%\.antigravity-agent\logs\
      macOS: ~/.config/.antigravity-agent/logs/
   3. 搜索 "ERROR" 或 "switch" 关键词
   ```

2. **常见错误和解决方案**

   **错误 1: "Database is locked"**
   ```
   原因：数据库被其他进程占用

   解决方案：
   1. 关闭所有 Antigravity 相关进程
      Windows: taskkill /F /IM antigravity.exe
      macOS: pkill -9 antigravity

   2. 删除锁文件
      Windows: del %APPDATA%\.antigravity\*.db-shm
      macOS: rm ~/.antigravity/*.db-shm

   3. 重启 Antigravity Agent
   4. 重试切换操作
   ```

   **错误 2: "Account data not found"**
   ```
   原因：账户备份数据损坏或丢失

   解决方案：
   1. 检查备份文件是否存在
   2. 如果有导出备份，尝试重新导入
   3. 如果没有备份，需要重新登录该账户

   步骤：
   1. 删除损坏的账户
   2. 使用"登录新账户"功能
   3. 重新登录该账户
   4. 应用会重新创建备份
   ```

   **错误 3: "Permission denied"**
   ```
   原因：没有写入权限

   解决方案：
   Windows:
   1. 以管理员身份运行应用
   2. 检查文件夹权限

   macOS:
   1. 授予完全磁盘访问权限
      系统偏好设置 -> 安全性与隐私 -> 完全磁盘访问
   2. 添加 Antigravity Agent
   ```

3. **验证修复**
   ```
   1. 尝试切换到其他账户
   2. 检查配额仪表盘是否正确显示
   3. 在 Antigravity 中验证当前账户
   4. 测试基本功能是否正常
   ```

### 场景 14: 导入配置失败

**问题描述：**
导入备份文件时显示错误，或导入后数据不完整。

**诊断步骤：**

1. **验证文件完整性**
   ```
   1. 检查文件大小（不应为 0 KB）
   2. 确认文件扩展名为 .enc
   3. 尝试用文本编辑器打开（应显示加密内容）
   ```

2. **常见问题和解决方案**

   **问题 1: "Invalid password"**
   ```
   原因：密码输入错误

   解决方案：
   1. 确认密码正确（注意大小写）
   2. 检查键盘布局（中英文输入法）
   3. 尝试从密码管理器复制粘贴
   4. 如果确认密码正确但仍失败：
      - 文件可能已损坏
      - 尝试使用其他备份文件
   ```

   **问题 2: "File corrupted"**
   ```
   原因：备份文件损坏

   解决方案：
   1. 尝试其他备份文件
   2. 如果是从云盘下载的，重新下载
   3. 检查文件传输过程是否完整
   4. 如果所有备份都损坏：
      - 需要手动重新配置账户
      - 建立更可靠的备份策略
   ```

   **问题 3: "Import succeeded but accounts missing"**
   ```
   原因：部分数据导入失败

   解决方案：
   1. 检查日志文件了解详细错误
   2. 尝试重新导入
   3. 如果持续失败：
      - 导出当前配置作为备份
      - 清空应用数据
      - 重新导入原始备份
   ```

3. **手动恢复步骤**
   ```
   如果自动导入失败：

   1. 备份当前数据
      复制整个配置目录到安全位置

   2. 清空应用数据
      Windows: 删除 %APPDATA%\.antigravity-agent
      macOS: 删除 ~/.config/.antigravity-agent

   3. 重启应用
      应用会创建新的配置目录

   4. 重新导入
      使用"导入"功能加载备份文件

   5. 验证结果
      检查所有账户是否恢复
   ```

### 场景 15: 应用启动失败

**问题描述：**
双击应用图标后没有反应，或显示错误信息。

**诊断步骤：**

1. **检查系统要求**
   ```
   Windows:
   ☑ Windows 10 或更高版本
   ☑ WebView2 Runtime 已安装
   ☑ 至少 4GB RAM
   ☑ 100MB 可用磁盘空间

   macOS:
   ☑ macOS 10.15 或更高版本
   ☑ 至少 4GB RAM
   ☑ 100MB 可用磁盘空间
   ```

2. **查看启动日志**
   ```
   日志位置：
   Windows: %APPDATA%\.antigravity-agent\logs\
   macOS: ~/.config/.antigravity-agent/logs/

   查找启动错误：
   grep "ERROR" antigravity-agent.log | head -20
   ```

3. **常见启动问题**

   **问题 1: Windows - "WebView2 not found"**
   ```
   解决方案：
   1. 下载 WebView2 Runtime
      https://developer.microsoft.com/microsoft-edge/webview2/

   2. 安装 Evergreen Standalone Installer

   3. 重启应用
   ```

   **问题 2: macOS - "App is damaged"**
   ```
   解决方案：
   1. 打开终端
   2. 运行命令：
      xattr -cr /Applications/Antigravity\ Agent.app

   3. 重新打开应用
   ```

   **问题 3: "Config file corrupted"**
   ```
   解决方案：
   1. 备份配置目录
   2. 删除配置文件：
      Windows: del %APPDATA%\.antigravity-agent\config.json
      macOS: rm ~/.config/.antigravity-agent/config.json

   3. 重启应用（会使用默认配置）
   4. 如果有备份，重新导入
   ```

4. **完全重置**
   ```
   如果所有方法都失败：

   1. 导出账户备份（如果可能）

   2. 完全卸载应用
      Windows:
      - 控制面板 -> 卸载程序
      - 删除 %APPDATA%\.antigravity-agent

      macOS:
      - 删除 /Applications/Antigravity Agent.app
      - 删除 ~/.config/.antigravity-agent

   3. 重新安装应用

   4. 导入备份恢复数据
   ```

### 场景 16: 性能问题排查

**问题描述：**
应用运行缓慢、卡顿或占用过多资源。

**诊断步骤：**

1. **检查资源使用**
   ```
   Windows (任务管理器):
   1. 按 Ctrl+Shift+Esc
   2. 找到 Antigravity Agent 进程
   3. 查看 CPU、内存、磁盘使用率

   macOS (活动监视器):
   1. 打开活动监视器
   2. 找到 Antigravity Agent
   3. 查看 CPU、内存使用情况
   ```

2. **正常资源使用范围**
   ```
   正常情况：
   - CPU: 空闲时 < 5%，操作时 < 30%
   - 内存: 50-150 MB
   - 磁盘: 偶尔读写

   异常情况：
   - CPU: 持续 > 50%
   - 内存: > 300 MB
   - 磁盘: 持续高速读写
   ```

3. **性能优化步骤**

   **优化 1: 清理日志文件**
   ```
   日志文件可能占用大量空间

   Windows:
   cd %APPDATA%\.antigravity-agent\logs
   del /Q *.log.old

   macOS:
   cd ~/.config/.antigravity-agent/logs
   rm *.log.old

   保留最近 7 天的日志即可
   ```

   **优化 2: 优化数据库**
   ```
   使用 SQLite 命令行工具：

   cd ~/.config/.antigravity-agent
   sqlite3 data.db "VACUUM;"
   sqlite3 data.db "ANALYZE;"

   这会压缩数据库并优化查询性能
   ```

   **优化 3: 减少账户数量**
   ```
   如果有大量账户（> 20 个）：
   1. 删除不再使用的账户
   2. 导出并归档旧账户
   3. 只保留活跃账户
   ```

   **优化 4: 禁用不必要的功能**
   ```
   1. 如果不需要，禁用系统托盘
   2. 关闭自动更新检查（如果有）
   3. 减少日志级别
   ```

4. **监控性能改善**
   ```
   优化后验证：
   1. 重启应用
   2. 监控资源使用 5 分钟
   3. 测试常用操作的响应速度
   4. 记录改善情况
   ```

### 场景 17: 数据同步问题

**问题描述：**
Antigravity 中的账户变化没有被 Agent 检测到。

**诊断步骤：**

1. **检查监控状态**
   ```
   1. 确认 Antigravity 正在运行
   2. 检查 Agent 是否显示"正在监控"
   3. 查看日志中的监控记录
   ```

2. **手动触发同步**
   ```
   方法 1: 重启 Agent
   1. 关闭 Antigravity Agent
   2. 重新打开
   3. 等待自动检测

   方法 2: 切换账户
   1. 切换到任意账户
   2. 触发数据库更新
   3. 检查是否同步
   ```

3. **检查数据库连接**
   ```
   验证数据库文件：

   Windows:
   dir %APPDATA%\.antigravity\*.db

   macOS:
   ls -la ~/.antigravity/*.db

   确认文件存在且可访问
   ```

4. **解决同步问题**
   ```
   如果持续无法同步：

   1. 检查文件权限
      确保 Agent 有读写权限

   2. 检查防病毒软件
      可能阻止了文件访问

   3. 重新配置监控
      - 重启 Antigravity
      - 重启 Agent
      - 手动切换一次账户

   4. 查看详细日志
      启用 debug 日志级别
      RUST_LOG=debug ./antigravity-agent
   ```



## 最佳实践建议

### 安全最佳实践

#### 1. 密码管理

**强密码策略：**
```
导出备份时使用强密码：
- 至少 16 个字符
- 包含大小写字母、数字和特殊字符
- 不使用常见单词或个人信息
- 每个备份使用不同的密码

推荐工具：
- 1Password
- Bitwarden
- KeePassXC
```

**密码存储：**
```
✓ 使用密码管理器存储
✓ 记录在加密笔记中
✓ 写在纸上并锁在保险柜中

✗ 不要保存在纯文本文件中
✗ 不要通过未加密的邮件发送
✗ 不要使用浏览器自动保存
```

#### 2. 备份安全

**3-2-1 备份规则：**
```
3 份副本：
- 1 份工作副本（应用中的数据）
- 2 份备份副本

2 种介质：
- 本地硬盘
- 云存储或外部硬盘

1 份异地：
- 云存储（OneDrive/Google Drive）
- 或物理异地存储
```

**加密传输：**
```
通过网络传输备份时：
1. 使用 HTTPS/SFTP 等加密协议
2. 验证接收方身份
3. 传输后验证文件完整性
4. 删除传输过程中的临时文件
```

#### 3. 账户隔离

**环境隔离：**
```
开发环境：
- 使用专用开发账户
- 配额限制较低
- 可以自由测试

生产环境：
- 使用独立生产账户
- 严格的访问控制
- 监控使用情况

测试环境：
- 临时测试账户
- 定期清理
- 不存储敏感数据
```

**权限最小化：**
```
原则：
- 只授予必要的权限
- 定期审查账户权限
- 及时撤销不需要的访问
- 使用临时账户进行测试
```

### 效率最佳实践

#### 1. 快速切换技巧

**键盘快捷键（如果支持）：**
```
Ctrl/Cmd + 1-9: 切换到第 N 个账户
Ctrl/Cmd + N: 登录新账户
Ctrl/Cmd + E: 导出配置
Ctrl/Cmd + I: 导入配置
Ctrl/Cmd + R: 刷新账户列表
```

**常用账户置顶：**
```
1. 识别最常用的 2-3 个账户
2. 确保它们显示在列表顶部
3. 为它们设置清晰的标识
4. 使用不同的头像便于识别
```

#### 2. 自动化工作流

**启动时自动切换：**
```
场景：每天上班时自动切换到工作账户

实现方式：
1. 启用静默启动
2. 设置默认账户（如果支持）
3. 或使用脚本自动调用切换命令
```

**定时备份提醒：**
```
设置日历提醒：
- 每周五下午：导出配置备份
- 每月最后一天：创建月度归档
- 重大变更前：手动备份提醒
```

#### 3. 团队协作

**标准化命名：**
```
账户命名规范：
- 个人账户：personal-{name}@example.com
- 工作账户：work-{name}@company.com
- 项目账户：project-{name}@company.com
- 测试账户：test-{purpose}@example.com

备份文件命名：
- antigravity_{type}_{date}_{description}.enc
- 示例：antigravity_team_2025-12-04_sprint-15.enc
```

**文档记录：**
```
维护账户清单：
| 账户 | 用途 | 负责人 | 配额 | 到期日 |
|------|------|--------|------|--------|
| team@company.com | 团队共享 | 张三 | 1000/月 | 2026-01 |
| dev@company.com | 开发测试 | 李四 | 500/月 | 2026-01 |

更新频率：每月审查一次
```

### 维护最佳实践

#### 1. 定期维护

**每周任务：**
```
☑ 检查所有账户状态
☑ 查看配额使用情况
☑ 清理测试账户
☑ 导出配置备份
☑ 检查应用更新
```

**每月任务：**
```
☑ 审查账户列表
☑ 删除不再使用的账户
☑ 更新账户信息
☑ 创建月度归档备份
☑ 检查日志文件大小
☑ 优化数据库
```

**每季度任务：**
```
☑ 全面审计所有账户
☑ 更新安全策略
☑ 测试灾难恢复流程
☑ 清理旧备份文件
☑ 更新文档
```

#### 2. 监控和告警

**配额监控：**
```
设置告警阈值：
- 80% 使用率：警告
- 90% 使用率：紧急
- 95% 使用率：立即行动

监控频率：
- 生产账户：每天检查
- 开发账户：每周检查
- 测试账户：按需检查
```

**异常检测：**
```
关注指标：
- 突然的配额消耗增加
- 账户切换失败率
- 应用崩溃频率
- 响应时间变慢

处理流程：
1. 记录异常情况
2. 查看详细日志
3. 分析根本原因
4. 实施修复措施
5. 更新监控规则
```

#### 3. 版本管理

**应用更新策略：**
```
稳定版本：
- 等待 1-2 周后更新
- 查看更新日志
- 在测试环境先验证
- 备份后再更新生产环境

测试版本：
- 仅在测试环境使用
- 及时反馈问题
- 不用于生产工作
```

**配置版本控制：**
```
使用 Git 管理配置：

.gitignore:
*.enc  # 不提交加密文件
*.log  # 不提交日志

提交内容：
- 账户清单（不含密钥）
- 配置说明文档
- 变更日志
- 恢复脚本
```

### 故障预防

#### 1. 预防性检查

**启动前检查：**
```
每次启动应用前：
☑ 确认 Antigravity 未运行
☑ 检查磁盘空间充足
☑ 验证网络连接正常
☑ 确认没有待处理的系统更新
```

**操作前备份：**
```
以下操作前务必备份：
- 批量删除账户
- 导入新配置
- 应用版本升级
- 系统重大更新
- 修改配置文件
```

#### 2. 风险管理

**识别风险：**
```
高风险操作：
- 清空所有账户
- 删除配置目录
- 修改数据库文件
- 批量更新账户

中风险操作：
- 切换账户
- 导入配置
- 更新应用

低风险操作：
- 查看账户列表
- 导出配置
- 查看日志
```

**风险缓解：**
```
对于高风险操作：
1. 创建完整备份
2. 在测试环境验证
3. 准备回滚方案
4. 逐步执行
5. 验证每个步骤

对于中风险操作：
1. 创建快速备份
2. 了解回滚方法
3. 监控执行结果

对于低风险操作：
1. 正常执行
2. 注意异常情况
```

### 性能优化

#### 1. 应用性能

**启动优化：**
```
减少启动时间：
- 禁用不必要的启动项
- 清理旧日志文件
- 优化账户数量（< 20 个）
- 使用 SSD 存储配置
```

**运行优化：**
```
保持流畅运行：
- 定期重启应用
- 清理临时文件
- 关闭不使用的功能
- 监控资源使用
```

#### 2. 数据库优化

**定期维护：**
```bash
# 每月执行一次
cd ~/.config/.antigravity-agent

# 备份数据库
cp data.db data.db.backup

# 优化数据库
sqlite3 data.db "VACUUM;"
sqlite3 data.db "ANALYZE;"
sqlite3 data.db "REINDEX;"

# 验证完整性
sqlite3 data.db "PRAGMA integrity_check;"
```

**清理策略：**
```
日志清理：
- 保留最近 30 天的日志
- 归档 30-90 天的日志
- 删除 90 天以上的日志

备份清理：
- 保留最近 7 天的每日备份
- 保留最近 12 个月的月度备份
- 归档年度备份
```

### 文档和知识管理

#### 1. 维护文档

**必备文档：**
```
1. 账户清单
   - 所有账户列表
   - 用途说明
   - 负责人信息
   - 配额限制

2. 操作手册
   - 常用操作步骤
   - 故障排查指南
   - 联系方式

3. 变更日志
   - 账户变更记录
   - 配置修改历史
   - 问题解决记录

4. 备份清单
   - 备份文件列表
   - 存储位置
   - 密码信息（安全存储）
```

#### 2. 知识分享

**团队培训：**
```
新成员入职培训：
1. 应用基本使用（30 分钟）
2. 账户管理流程（30 分钟）
3. 备份恢复演练（30 分钟）
4. 故障排查实践（30 分钟）

定期培训：
- 每季度更新培训材料
- 分享最佳实践
- 讨论常见问题
```

**经验总结：**
```
建立知识库：
- 常见问题 FAQ
- 故障案例分析
- 优化技巧分享
- 工具使用心得

更新频率：
- 遇到新问题立即记录
- 每月整理一次
- 每季度审查更新
```

---

## 最佳实践建议

### 账户管理最佳实践

#### 1. 账户命名和组织

**建议：**
- 使用有意义的邮箱地址（如 work@company.com, personal@gmail.com）
- 为不同用途的账户使用不同的邮箱域名
- 在账户备注中添加用途说明

**示例：**
```
✓ 好的命名：
  - work@company.com (工作账户)
  - personal@gmail.com (个人账户)
  - client-acme@freelance.com (客户 ACME)

✗ 避免：
  - test123@example.com (不清楚用途)
  - temp@temp.com (临时账户容易混淆)
```

#### 2. 账户数量控制

**建议：**
- 保持活跃账户数量在 10 个以内
- 定期清理不再使用的账户
- 归档历史账户到导出备份

**原因：**
- 减少界面混乱
- 提升切换效率
- 降低维护成本

#### 3. 账户安全

**建议：**
- 为不同账户使用不同的强密码
- 启用两步验证（如果 Antigravity 支持）
- 不要在公共设备上保存账户信息
- 定期更新 API 密钥

**安全检查清单：**
```
☑ 所有账户使用强密码
☑ 密码存储在密码管理器中
☑ 定期（每 3 个月）更换密码
☑ 监控账户异常活动
☑ 及时删除离职员工的账户
```

### 备份策略最佳实践

#### 1. 3-2-1 备份原则

**原则：**
- **3** 份副本：原始数据 + 2 份备份
- **2** 种介质：本地硬盘 + 云存储/外部硬盘
- **1** 份异地：至少一份备份存储在不同位置

**实施方案：**
```
副本 1: 应用内数据（原始）
  位置：~/.antigravity-agent/

副本 2: 本地备份（每周）
  位置：~/Backups/Antigravity/
  频率：每周日晚上

副本 3: 云端备份（每月）
  位置：OneDrive/Backups/
  频率：每月 1 号

副本 4: 离线备份（每季度）
  位置：外部硬盘
  频率：每季度末
```

#### 2. 备份文件管理

**命名规范：**
```
格式：antigravity_[类型]_[日期]_[版本]_[描述].enc

示例：
antigravity_full_2025-12-04_v1.2_weekly.enc
antigravity_incremental_2025-12-04_v1.2_daily.enc
antigravity_emergency_2025-12-04_v1.2_before-upgrade.enc
```

**目录结构：**
```
Backups/
├── Daily/          # 每日备份（保留 7 天）
├── Weekly/         # 每周备份（保留 4 周）
├── Monthly/        # 每月备份（保留 12 个月）
├── Yearly/         # 年度备份（永久保留）
└── Emergency/      # 紧急备份（重要操作前）
```

#### 3. 备份验证

**定期验证：**
- 每月测试一次恢复流程
- 在测试环境中验证备份完整性
- 记录恢复时间和步骤

**验证清单：**
```
☑ 备份文件可以正常打开
☑ 密码正确且可用
☑ 导入后所有账户完整
☑ 账户信息准确无误
☑ 可以正常切换账户
☑ 配额信息正确显示
```

### 性能优化最佳实践

#### 1. 定期维护

**每周任务：**
```bash
# 清理旧日志（保留最近 7 天）
find ~/.antigravity-agent/logs -name "*.log" -mtime +7 -delete

# 检查磁盘空间
df -h ~/.antigravity-agent
```

**每月任务：**
```bash
# 优化数据库
sqlite3 ~/.antigravity-agent/data.db "VACUUM;"
sqlite3 ~/.antigravity-agent/data.db "ANALYZE;"

# 清理缓存
rm -rf ~/.antigravity-agent/cache/*
```

#### 2. 资源监控

**监控指标：**
- CPU 使用率：应 < 10%（空闲时）
- 内存使用：应 < 200 MB
- 磁盘空间：保留至少 500 MB
- 响应时间：切换账户 < 3 秒

**监控工具：**
```bash
# macOS/Linux
top -pid $(pgrep antigravity-agent)

# Windows (PowerShell)
Get-Process antigravity-agent | Format-List *
```

#### 3. 启动优化

**建议：**
- 启用静默启动（如果不需要立即使用）
- 减少开机自启动程序
- 使用 SSD 存储配置文件
- 定期清理不用的账户

### 团队协作最佳实践

#### 1. 账户共享规范

**制定规范：**
```markdown
# 团队账户使用规范

## 账户类型
- 个人账户：仅个人使用
- 团队账户：团队共享，需申请权限
- 项目账户：特定项目使用

## 使用规则
1. 不得分享个人账户
2. 团队账户使用需记录
3. 项目结束后及时清理
4. 发现异常立即报告

## 配额管理
- 个人账户：自行管理
- 团队账户：每周检查，避免超额
- 项目账户：项目经理负责监控
```

#### 2. 配置同步流程

**标准流程：**
```
1. 指定配置管理员
   - 负责维护主配置
   - 定期更新和分发

2. 建立配置仓库
   - 使用版本控制
   - 记录变更历史

3. 同步流程
   - 管理员导出最新配置
   - 加密并上传到共享位置
   - 通知团队成员更新
   - 成员下载并导入

4. 验证机制
   - 成员导入后反馈
   - 管理员抽查验证
   - 记录同步日志
```

#### 3. 问题上报机制

**上报流程：**
```
1. 发现问题
   ↓
2. 收集信息
   - 错误截图
   - 日志文件
   - 操作步骤
   ↓
3. 提交工单
   - 使用统一模板
   - 标注优先级
   ↓
4. 跟踪处理
   - 记录处理进度
   - 更新状态
   ↓
5. 验证解决
   - 测试修复
   - 关闭工单
```

### 安全最佳实践

#### 1. 数据加密

**建议：**
- 所有导出备份必须加密
- 使用强密码（至少 16 位，包含大小写字母、数字、特殊字符）
- 密码存储在密码管理器中
- 定期更换加密密码

**密码强度示例：**
```
✗ 弱密码：
  - password123
  - antigravity2025
  - 12345678

✓ 强密码：
  - Ag$7mK9#pL2@vN4x
  - T!m3-B@s3d-P@ssw0rd-2025
  - 使用密码管理器生成的随机密码
```

#### 2. 访问控制

**建议：**
- 不要在公共电脑上使用
- 使用后及时锁定屏幕
- 不要分享配置文件给未授权人员
- 定期审查账户访问权限

#### 3. 审计日志

**建议：**
- 启用详细日志记录
- 定期检查异常操作
- 保留日志至少 30 天
- 重要操作前后备份日志

**日志审计清单：**
```
☑ 账户切换记录
☑ 配置导入导出记录
☑ 账户添加删除记录
☑ 错误和异常记录
☑ 性能问题记录
```

### 故障预防最佳实践

#### 1. 预防性维护

**每日检查：**
- 应用是否正常运行
- 账户切换是否正常
- 配额显示是否准确

**每周检查：**
- 创建备份
- 检查日志错误
- 验证账户完整性

**每月检查：**
- 优化数据库
- 清理旧数据
- 测试恢复流程
- 更新应用版本

#### 2. 变更管理

**重大变更前：**
```
1. 创建完整备份
2. 记录当前状态
3. 准备回滚方案
4. 在测试环境验证
5. 选择低峰时段执行
6. 执行后立即验证
```

#### 3. 应急预案

**制定预案：**
```markdown
# 应急响应预案

## 场景 1: 应用无法启动
- 检查日志文件
- 尝试重启应用
- 清除配置文件
- 从备份恢复

## 场景 2: 数据丢失
- 停止所有操作
- 检查备份可用性
- 执行恢复流程
- 验证数据完整性

## 场景 3: 账户切换失败
- 检查进程状态
- 重启相关服务
- 清除缓存
- 手动切换验证

## 联系方式
- 技术支持：support@example.com
- 紧急热线：+86-xxx-xxxx-xxxx
- 在线文档：https://docs.example.com
```

### 文档和知识管理

#### 1. 维护操作手册

**建议内容：**
- 常用操作步骤
- 故障排查流程
- 配置变更记录
- 最佳实践总结

#### 2. 知识分享

**分享方式：**
- 定期团队培训
- 编写使用技巧文档
- 建立内部知识库
- 记录常见问题解答

#### 3. 持续改进

**改进流程：**
```
1. 收集反馈
   - 用户使用体验
   - 遇到的问题
   - 改进建议

2. 分析问题
   - 识别痛点
   - 找出根因
   - 评估影响

3. 制定方案
   - 提出改进措施
   - 评估可行性
   - 制定实施计划

4. 实施改进
   - 执行改进措施
   - 监控效果
   - 调整优化

5. 总结经验
   - 记录改进成果
   - 更新文档
   - 分享经验
```

## 总结

本文档提供了 Antigravity Agent 的实际使用示例，涵盖了从基本操作到高级场景的各种情况。通过遵循这些最佳实践，您可以：

- **高效管理**多个 Antigravity 账户
- **安全备份**和恢复配置数据
- **快速排查**和解决常见问题
- **优化性能**提升使用体验
- **建立规范**确保团队协作顺畅

### 快速参考

**日常使用：**
- 切换账户：点击账户卡片上的"切换"按钮
- 添加账户：使用"登录新账户"功能
- 查看配额：在配额仪表盘中实时监控

**定期维护：**
- 每周：导出配置备份
- 每月：审查账户列表，清理不用的账户
- 每季度：全面审计，测试恢复流程

**遇到问题：**
1. 查看错误提示
2. 检查日志文件
3. 参考故障排查章节
4. 联系技术支持

### 获取帮助

如果您遇到本文档未涵盖的问题，可以：

- 查看 [故障排查手册](../advanced/troubleshooting.md)
- 阅读 [API 参考文档](./api-reference.md)
- 访问 [GitHub Issues](https://github.com/your-repo/issues)
- 联系技术支持团队

---

## 相关文档

- [使用手册](./user-guide.md) - 完整功能说明
- [API 参考](./api-reference.md) - 命令接口文档
- [配置说明](./configuration.md) - 配置文件详解
- [故障排查](../advanced/troubleshooting.md) - 问题解决指南
- [最佳实践](../advanced/faq.md) - 常见问题解答

---

## 更新日志

- **v1.0.3** (2025-12-04): 完善使用示例，添加最佳实践建议
- **v1.0.0** (2024-12-01): 初始版本

